angular.module("CultivosCtrl", []).controller("CultivosCtrl", [
    "$scope",
    "$rootScope",
    "$http",
    "$injector",
    "$mdDialog",
    function($scope, $rootScope, $http, $injector, $mdDialog) {

        var Ctrl = $scope;
        var Rs = $rootScope;

        Ctrl.zona_select = null;

        Ctrl.Salir = $mdDialog.cancel;

        Ctrl.value = 0;

        // Datos para informes estadisticos.

        // Promedio de Produccion.
        // Ctrl.promedioproduccion = 20;
        Ctrl.pp = () => {
            return $http.post('api/organizaciones/promedioproduccion', {
                organizacion: Rs.Usuario.organizacion_id
            }).then( r => {
                console.log(r);
                bi = r.data[0];
                console.log(r);

                $scope.promedioproduccion = {
                    labels: ['Bim 5', 'Bim 6', 'Bim 1', 'Bim 2', 'Zona 3', 'Zona 4', 'PROY'],
                    data: [ bi.bimestre1, bi.bimestre2, bi.bimestre3, bi.bimestre4, bi.bimestre5, bi.bimestre6, 14.3],
                    backgroundColor: [
                        '#6b77be',
                        '#6b77be',
                        '#6b77be',
                        '#6b77be',
                        '#6b77be',
                        '#6b77be',
                        '#23d959'
                    ],
                };
                var ctx = document.getElementById('promedioproduccion').getContext('2d');
                var myCharBarras = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        datasets: [{
                            label: 'Promedio',
                            data: $scope.promedioproduccion.data,
                            backgroundColor: $scope.promedioproduccion.backgroundColor,
                            borderColor: [
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 1
                        }],
                        labels: $scope.promedioproduccion.labels,
                    },
                    options: {
                        scales: { y: { beginAtZero: true } },
                        plugins: {
                            title: {
                                display: true,
                                text: 'PROMEDIOS DE PRODUCCIÓN'
                            }
                        }
                    }
                });
            });
        };
        Ctrl.pp();


        // console.log('pro pro', Ctrl.promedioproduccion);

        Ctrl.CultivosCRUD = $injector.get("CRUD").config({
            base_url: "/api/cultivos/cultivos",
            limit: 1000,
            add_append: "refresh",
            order_by: ["-created_at"],
            query_with:['zona', 'evento']
        });

        Ctrl.getCultivos = () => {
            Ctrl.CultivosCRUD.setScope('lazona', Ctrl.zona_select);
            Ctrl.CultivosCRUD.get().then(() => {});
        };

        Ctrl.nuevoCultivo = () => {
            Ctrl.CultivosCRUD.dialog({
                Flex: 10,
                Title: "Crear Cultivo",

                Confirm: { Text: "Crear Cultivo" }
            }).then(r => {
                if (!r) return;
                Ctrl.CultivosCRUD.add(r);
                Rs.showToast('Cultivo Creado');
            });
        };

        Ctrl.editarCultivo = C => {
            Ctrl.CultivosCRUD.dialog(C, {
                title: "Editar Cultivo" + C.id
            }).then(r => {
                if (r == "DELETE") return Ctrl.CultivosCRUD.delete(C);
                Ctrl.CultivosCRUD.update(r).then(() => {
                    Rs.showToast("Cultivo actualizado");
                });
            });
        };

        Ctrl.eliminarCultivo = C => {
            Rs.confirmDelete({
                Title: "¿Eliminar Cultivo #" + C.id + "?"
            }).then(d => {
                if (!d) return;
                Ctrl.CultivosCRUD.delete(C);
            });
        };

        Ctrl.obtener_zonas = ()=>{
            return $http.post('api/zonas/obtener', {}).then(r => {
                Ctrl.zonas = r.data;
                Ctrl.zona_select = Ctrl.zonas[0].id;
            });
        };

        Promise.all([
            Ctrl.obtener_zonas()
        ]).then(() => {
            Ctrl.getCultivos();
        });

        Ctrl.crearMapa = function(){
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 4.852147911841803, lng: -75.5747982566813},
                mapTypeId: 'satellite',
                zoom: 16,
                disableDefaultUI: false
            });

            $scope.map = map;

            const iconBase = "http://paco/imgs/";
            const icons = {
                finca: {
                icon: iconBase + "finca-icono.png",
                }
            };
            const datosFincas = {
                finca1 : {
                    centro : {"lat":4.853414968, "lng":-75.574692}
                },
                finca2 : {
                    centro : {"lat":4.850510135, "lng":-75.57593026}
                },
                finca3 : {
                    centro : {"lat":4.85072664, "lng":-75.57513415}
                },
                finca4 : {
                    centro : {"lat":4.848888069, "lng":-75.57624064}
                },
                finca5 : {
                    centro : {"lat":4.853431983, "lng":-75.57318502}
                },
                finca6 : {
                    centro : {"lat":4.904566454, "lng":-75.58281264}
                },
                finca7 : {
                    centro : {"lat":4.891836438, "lng":-75.56308273}
                },
                finca8 : {
                    centro: {"lat":4.875147231, "lng":-75.55207159}
                },
                finca9 : {
                    centro : {"lat":4.850397902, "lng":-75.57557722}
                },
                finca10 : {
                    centro : {"lat":4.854635373, "lng":-75.57543162}
                },
                finca11 : {
                    centro : {"lat":4.85374664, "lng":-75.57610461}
                },
                finca12 : {
                    centro : {"lat":4.851978058, "lng":-75.57410745}
                },
                finca13 : {
                    centro : {"lat":4.850976169, "lng":-75.57465781}
                },
                finca14 : {
                    centro : {"lat":4.849881493, "lng":-75.57543799}
                },
                finca15 : {
                    centro : {"lat":4.891859069, "lng":-75.56247328}
                },
                finca16 : {
                    centro : {"lat":4.921276197, "lng":-75.56069867}
                },
                finca17 : {
                    centro : {"lat":4.918824742, "lng":-75.55867871}
                },
                finca18 : {
                    centro : {"lat":4.88778865, "lng":-75.56120007}
                },
                finca19 : {
                    centro : {"lat":4.893876845, "lng":-75.56332061}
                },
                finca20 : {
                    centro : {"lat":4.829614973, "lng":-75.57174903}
                },
                finca21 : {
                    centro : {"lat":4.875094006, "lng":-75.54999213}
                }
            }

            const areasfinca = {
                finca1 : {
                    poligono : [{"lat":4.853414968, "lng":-75.574692},{"lat":4.853358977, "lng":-75.57458002},{"lat":4.853337016, "lng":-75.57445899},{"lat":4.853335004, "lng":-75.57445203},{"lat":4.853254035, "lng":-75.57426796},{"lat":4.853240037, "lng":-75.57416897},{"lat":4.853254035, "lng":-75.57406998},{"lat":4.853261998, "lng":-75.57396504},{"lat":4.853261998, "lng":-75.57393897},{"lat":4.853261998, "lng":-75.57392598},{"lat":4.853272978, "lng":-75.57379698},{"lat":4.853367023, "lng":-75.57364603},{"lat":4.853458973, "lng":-75.573541},{"lat":4.853499038, "lng":-75.57348199},{"lat":4.853553018, "lng":-75.57343204},{"lat":4.853556035, "lng":-75.57343204},{"lat":4.853590988, "lng":-75.57341896},{"lat":4.853592999, "lng":-75.57341896},{"lat":4.853606997, "lng":-75.57333698},{"lat":4.853606997, "lng":-75.57333296},{"lat":4.85357699, "lng":-75.57328401},{"lat":4.853573972, "lng":-75.57328099},{"lat":4.853542037, "lng":-75.57324797},{"lat":4.853580007, "lng":-75.57319198},{"lat":4.85357699, "lng":-75.57319198},{"lat":4.853766002, "lng":-75.57318502},{"lat":4.853901034, "lng":-75.57320204},{"lat":4.854134973, "lng":-75.57317203},{"lat":4.854263971, "lng":-75.573152},{"lat":4.854266988, "lng":-75.573152},{"lat":4.854395986, "lng":-75.57310598},{"lat":4.854456, "lng":-75.57313599},{"lat":4.854477039, "lng":-75.57322802},{"lat":4.854477039, "lng":-75.57323498},{"lat":4.85433396, "lng":-75.57346498},{"lat":4.85433396, "lng":-75.57346799},{"lat":4.854280986, "lng":-75.57370202},{"lat":4.854246033, "lng":-75.573771},{"lat":4.854232036, "lng":-75.57389597},{"lat":4.854213009, "lng":-75.57396504},{"lat":4.854150983, "lng":-75.57400804},{"lat":4.854104966, "lng":-75.57400804},{"lat":4.854070013, "lng":-75.57403796},{"lat":4.854070013, "lng":-75.57403402},{"lat":4.854046041, "lng":-75.57413},{"lat":4.854064984, "lng":-75.57424097},{"lat":4.854057021, "lng":-75.57430702},{"lat":4.854054004, "lng":-75.57431096},{"lat":4.854018968, "lng":-75.57436},{"lat":4.853864992, "lng":-75.57441004},{"lat":4.853800032, "lng":-75.57443703},{"lat":4.853745969, "lng":-75.57442697},{"lat":4.853629963, "lng":-75.57444298},{"lat":4.853571039, "lng":-75.57445002},{"lat":4.853548994, "lng":-75.57449897},{"lat":4.853557041, "lng":-75.57454901},{"lat":4.853500966, "lng":-75.57465403},{"lat":4.853416979, "lng":-75.57469703},{"lat":4.853416979, "lng":-75.57469301}]
                },
                finca2 : {
                    poligono : [{"lat":4.850510135, "lng":-75.57593026},{"lat":4.850553302, "lng":-75.5759259},{"lat":4.850556822, "lng":-75.57591928},{"lat":4.850599989, "lng":-75.57590612},{"lat":4.850599989, "lng":-75.57590394},{"lat":4.850648521, "lng":-75.57586446},{"lat":4.850716749, "lng":-75.57581183},{"lat":4.850776009, "lng":-75.57578769},{"lat":4.850776009, "lng":-75.57578551},{"lat":4.850826384, "lng":-75.57577679},{"lat":4.850894613, "lng":-75.57576137},{"lat":4.85096829, "lng":-75.57568023},{"lat":4.850979103, "lng":-75.57562323},{"lat":4.850979103, "lng":-75.57562105},{"lat":4.850948509, "lng":-75.57557059},{"lat":4.850948509, "lng":-75.57556842},{"lat":4.850907186, "lng":-75.57550044},{"lat":4.850905426, "lng":-75.57550044},{"lat":4.850869467, "lng":-75.57543238},{"lat":4.850806603, "lng":-75.57534026},{"lat":4.850774249, "lng":-75.5752613},{"lat":4.850731166, "lng":-75.57518897},{"lat":4.850731166, "lng":-75.57518679},{"lat":4.850691603, "lng":-75.57515167},{"lat":4.850621531, "lng":-75.57524378},{"lat":4.850553302, "lng":-75.57534688},{"lat":4.850553302, "lng":-75.57534906},{"lat":4.850501167, "lng":-75.5754302},{"lat":4.850497562, "lng":-75.5754302},{"lat":4.850467052, "lng":-75.57548502},{"lat":4.850465208, "lng":-75.57548502},{"lat":4.850409552, "lng":-75.5755794},{"lat":4.850409552, "lng":-75.57558157},{"lat":4.850441907, "lng":-75.57567805},{"lat":4.85046613, "lng":-75.57577679},{"lat":4.85046613, "lng":-75.57577897},{"lat":4.850480463, "lng":-75.5758513},{"lat":4.850482307, "lng":-75.57585348},{"lat":4.850511057, "lng":-75.5759347}]
                },
                finca3 : {
                    poligono : [{"lat":4.85072664, "lng":-75.57513415},{"lat":4.8507284, "lng":-75.57513633},{"lat":4.850811046, "lng":-75.57528544},{"lat":4.85081289, "lng":-75.57529642},{"lat":4.850881118, "lng":-75.5754105},{"lat":4.850978181, "lng":-75.57561007},{"lat":4.850978181, "lng":-75.57561225},{"lat":4.851046409, "lng":-75.57573287},{"lat":4.851169456, "lng":-75.57577017},{"lat":4.8512288, "lng":-75.57577017},{"lat":4.85126107, "lng":-75.57579431},{"lat":4.85134556, "lng":-75.57578115},{"lat":4.85134556, "lng":-75.57578333},{"lat":4.851390487, "lng":-75.57579867},{"lat":4.851440778, "lng":-75.57586446},{"lat":4.851500038, "lng":-75.57584468},{"lat":4.851552173, "lng":-75.57577235},{"lat":4.851552173, "lng":-75.57577017},{"lat":4.851584528, "lng":-75.57573069},{"lat":4.851586288, "lng":-75.57573069},{"lat":4.851634819, "lng":-75.57573723},{"lat":4.851728277, "lng":-75.57584468},{"lat":4.851789298, "lng":-75.57582499},{"lat":4.851789298, "lng":-75.57582281},{"lat":4.851827016, "lng":-75.57579204},{"lat":4.851858532, "lng":-75.5757296},{"lat":4.851858532, "lng":-75.57572088},{"lat":4.851898011, "lng":-75.57567042},{"lat":4.851973448, "lng":-75.57560027},{"lat":4.852054333, "lng":-75.57556079},{"lat":4.852109989, "lng":-75.57553883},{"lat":4.852140583, "lng":-75.57551905},{"lat":4.852224989, "lng":-75.57542475},{"lat":4.852307634, "lng":-75.57534797},{"lat":4.852307634, "lng":-75.57534579},{"lat":4.852334624, "lng":-75.57532165},{"lat":4.852334624, "lng":-75.57524269},{"lat":4.852357926, "lng":-75.57518134},{"lat":4.852453144, "lng":-75.57516818},{"lat":4.852531264, "lng":-75.57519777},{"lat":4.852599492, "lng":-75.57521529},{"lat":4.852730669, "lng":-75.57513851},{"lat":4.852797138, "lng":-75.57504865},{"lat":4.852834856, "lng":-75.57495209},{"lat":4.852834856, "lng":-75.57494991},{"lat":4.852861846, "lng":-75.57490163},{"lat":4.852901325, "lng":-75.57485344},{"lat":4.852948012, "lng":-75.57481614},{"lat":4.853025293, "lng":-75.5748008},{"lat":4.853023533, "lng":-75.5748008},{"lat":4.853170887, "lng":-75.57477331},{"lat":4.853170887, "lng":-75.57477113},{"lat":4.853284126, "lng":-75.57476015},{"lat":4.853343386, "lng":-75.57472067},{"lat":4.853370292, "lng":-75.57471405},{"lat":4.853402646, "lng":-75.57470533},{"lat":4.853363167, "lng":-75.57465705},{"lat":4.853361323, "lng":-75.57465487},{"lat":4.853298459, "lng":-75.57458245},{"lat":4.853258897, "lng":-75.57449251},{"lat":4.853226626, "lng":-75.5743895},{"lat":4.853214053, "lng":-75.57431272},{"lat":4.853212209, "lng":-75.57431272},{"lat":4.853185304, "lng":-75.57415263},{"lat":4.853199637, "lng":-75.57403419},{"lat":4.853208689, "lng":-75.5739202},{"lat":4.853208689, "lng":-75.57376228},{"lat":4.853201564, "lng":-75.57363505},{"lat":4.853215897, "lng":-75.57358241},{"lat":4.852939211, "lng":-75.57362407},{"lat":4.852757743, "lng":-75.57368986},{"lat":4.852755982, "lng":-75.57368986},{"lat":4.852480134, "lng":-75.57385658},{"lat":4.852042766, "lng":-75.57417895},{"lat":4.851759793, "lng":-75.57441691},{"lat":4.851539684, "lng":-75.57460885},{"lat":4.851218993, "lng":-75.57467021},{"lat":4.851070885, "lng":-75.57471078},{"lat":4.851068202, "lng":-75.57471078},{"lat":4.850981953, "lng":-75.57477004},{"lat":4.85097927, "lng":-75.57477331},{"lat":4.85091188, "lng":-75.57486869},{"lat":4.850728652, "lng":-75.57513189}]
                },
                finca4 : {
                    poligono : [{"lat":4.848888069, "lng":-75.57624064},{"lat":4.848839538, "lng":-75.57620997},{"lat":4.848810788, "lng":-75.57615951},{"lat":4.848810788, "lng":-75.57616169},{"lat":4.848776674, "lng":-75.57611349},{"lat":4.848756893, "lng":-75.57609371},{"lat":4.848749684, "lng":-75.57607175},{"lat":4.848747924, "lng":-75.57606957},{"lat":4.848681455, "lng":-75.57599941},{"lat":4.848649101, "lng":-75.57592481},{"lat":4.848647257, "lng":-75.57592263},{"lat":4.848620351, "lng":-75.57588098},{"lat":4.84860233, "lng":-75.57586564},{"lat":4.848609539, "lng":-75.57582616},{"lat":4.848665278, "lng":-75.57581954},{"lat":4.848676007, "lng":-75.57581954},{"lat":4.848740716, "lng":-75.5758042},{"lat":4.848805424, "lng":-75.57577134},{"lat":4.848839538, "lng":-75.57576908},{"lat":4.848900642, "lng":-75.57576254},{"lat":4.848938361, "lng":-75.57575592},{"lat":4.848981444, "lng":-75.57575592},{"lat":4.849028215, "lng":-75.57576472},{"lat":4.849056881, "lng":-75.57578006},{"lat":4.849087475, "lng":-75.57576036},{"lat":4.849117985, "lng":-75.57578224},{"lat":4.849164756, "lng":-75.57580638},{"lat":4.849193422, "lng":-75.5758042},{"lat":4.849216808, "lng":-75.57580856},{"lat":4.849216808, "lng":-75.57580638},{"lat":4.849259974, "lng":-75.57578668},{"lat":4.84928688, "lng":-75.57574502},{"lat":4.84927875, "lng":-75.57566933},{"lat":4.849275229, "lng":-75.57561669},{"lat":4.84927875, "lng":-75.57558593},{"lat":4.849282354, "lng":-75.57550044},{"lat":4.849302135, "lng":-75.57544562},{"lat":4.8493075, "lng":-75.5754478},{"lat":4.849363239, "lng":-75.57546968},{"lat":4.849420739, "lng":-75.57548946},{"lat":4.84949802, "lng":-75.57550044},{"lat":4.849499781, "lng":-75.57550044},{"lat":4.849559041, "lng":-75.5755136},{"lat":4.849607572, "lng":-75.57551796},{"lat":4.849629113, "lng":-75.57553992},{"lat":4.84967228, "lng":-75.57553774},{"lat":4.849675884, "lng":-75.57560571},{"lat":4.849652499, "lng":-75.57570001},{"lat":4.849618385, "lng":-75.57577679},{"lat":4.849539343, "lng":-75.57587989},{"lat":4.849481843, "lng":-75.5759632},{"lat":4.849399198, "lng":-75.57602464},{"lat":4.84933449, "lng":-75.57605314},{"lat":4.849289563, "lng":-75.57607502},{"lat":4.849215886, "lng":-75.57608382},{"lat":4.849138688, "lng":-75.57611894},{"lat":4.84904699, "lng":-75.57614082},{"lat":4.84904699, "lng":-75.57614308},{"lat":4.848993095, "lng":-75.5761606},{"lat":4.848953616, "lng":-75.57618474},{"lat":4.848892512, "lng":-75.57624173}]
                },
                finca5 : {
                    poligono : [{"lat":4.853431983, "lng":-75.57318502},{"lat":4.853431983, "lng":-75.57318301},{"lat":4.853585958, "lng":-75.57319198},{"lat":4.853769019, "lng":-75.57318804},{"lat":4.853769019, "lng":-75.57318502},{"lat":4.853918971, "lng":-75.57319399},{"lat":4.853919977, "lng":-75.57319399},{"lat":4.854158023, "lng":-75.57317002},{"lat":4.854302024, "lng":-75.57314202},{"lat":4.85440596, "lng":-75.57310598},{"lat":4.854450971, "lng":-75.57311998},{"lat":4.854465974, "lng":-75.573109},{"lat":4.854450971, "lng":-75.57305996},{"lat":4.854497993, "lng":-75.57299903},{"lat":4.854535963, "lng":-75.57298402},{"lat":4.854502017, "lng":-75.57268797},{"lat":4.854516014, "lng":-75.57261497},{"lat":4.854463963, "lng":-75.572462},{"lat":4.854474021, "lng":-75.57239897},{"lat":4.854449965, "lng":-75.57228698},{"lat":4.854459018, "lng":-75.57221498},{"lat":4.854461029, "lng":-75.57221498},{"lat":4.854579968, "lng":-75.57214701},{"lat":4.854758, "lng":-75.57203704},{"lat":4.854849027, "lng":-75.57199596},{"lat":4.854851039, "lng":-75.57199596},{"lat":4.854868976, "lng":-75.57189899},{"lat":4.85483503, "lng":-75.571829},{"lat":4.854833018, "lng":-75.571829},{"lat":4.854769986, "lng":-75.57183503},{"lat":4.854767974, "lng":-75.57183797},{"lat":4.854685999, "lng":-75.57189496},{"lat":4.854579968, "lng":-75.57193796},{"lat":4.854546022, "lng":-75.571987},{"lat":4.854496988, "lng":-75.57199596},{"lat":4.854496988, "lng":-75.57199303},{"lat":4.854474021, "lng":-75.57197602},{"lat":4.854397997, "lng":-75.57198004},{"lat":4.854395986, "lng":-75.57198004},{"lat":4.854338989, "lng":-75.57198901},{"lat":4.85433396, "lng":-75.57199102},{"lat":4.854290038, "lng":-75.57201097},{"lat":4.854289033, "lng":-75.57201298},{"lat":4.854217032, "lng":-75.572031},{"lat":4.854194988, "lng":-75.57203502},{"lat":4.854156012, "lng":-75.57201499},{"lat":4.854156012, "lng":-75.57201298},{"lat":4.854113013, "lng":-75.57196302},{"lat":4.854106978, "lng":-75.57196302},{"lat":4.85406599, "lng":-75.57191198},{"lat":4.854006981, "lng":-75.57185297},{"lat":4.853911009, "lng":-75.57180704},{"lat":4.853891982, "lng":-75.57176102},{"lat":4.853891982, "lng":-75.57172104},{"lat":4.85390598, "lng":-75.571686},{"lat":4.85390598, "lng":-75.57168801},{"lat":4.853859041, "lng":-75.57169497},{"lat":4.853856023, "lng":-75.57169497},{"lat":4.85378704, "lng":-75.57167301},{"lat":4.853786035, "lng":-75.57167301},{"lat":4.853734989, "lng":-75.57169698},{"lat":4.853731971, "lng":-75.57169899},{"lat":4.853657959, "lng":-75.57175398},{"lat":4.853656031, "lng":-75.57175398},{"lat":4.853613032, "lng":-75.5718},{"lat":4.853571961, "lng":-75.57181098},{"lat":4.853570033, "lng":-75.57181299},{"lat":4.853565004, "lng":-75.57183503},{"lat":4.853565004, "lng":-75.571844},{"lat":4.853585958, "lng":-75.57188398},{"lat":4.85358797, "lng":-75.57188398},{"lat":4.853608003, "lng":-75.571945},{"lat":4.853683021, "lng":-75.572017},{"lat":4.853755021, "lng":-75.57203301},{"lat":4.853755021, "lng":-75.57203502},{"lat":4.853788968, "lng":-75.57208297},{"lat":4.85381797, "lng":-75.57214499},{"lat":4.853803972, "lng":-75.572232},{"lat":4.853819981, "lng":-75.572289},{"lat":4.853887958, "lng":-75.57235303},{"lat":4.853926012, "lng":-75.57243601},{"lat":4.853934981, "lng":-75.572577},{"lat":4.853915032, "lng":-75.57269703},{"lat":4.853856023, "lng":-75.57278797},{"lat":4.853744041, "lng":-75.57288897},{"lat":4.853635998, "lng":-75.57297497},{"lat":4.853592999, "lng":-75.573023},{"lat":4.853520999, "lng":-75.57305996},{"lat":4.853480011, "lng":-75.57308201},{"lat":4.853443969, "lng":-75.573124},{"lat":4.853429971, "lng":-75.57318502}]
                },
                finca6 : {
                    poligono : [{"lat":4.904566454, "lng":-75.58281264},{"lat":4.904221706, "lng":-75.58311062},{"lat":4.904162446, "lng":-75.58315957},{"lat":4.904010482, "lng":-75.58300216},{"lat":4.903946696, "lng":-75.58291415},{"lat":4.903935883, "lng":-75.58290149},{"lat":4.903894141, "lng":-75.58279043},{"lat":4.903831612, "lng":-75.58257409},{"lat":4.90383002, "lng":-75.58256705},{"lat":4.903783416, "lng":-75.58240118},{"lat":4.90388467, "lng":-75.58231375},{"lat":4.903919874, "lng":-75.58230185},{"lat":4.904105784, "lng":-75.58218735},{"lat":4.904129338, "lng":-75.58217436},{"lat":4.904270153, "lng":-75.58206297},{"lat":4.904566454, "lng":-75.58281264},{"lat":4.903179919, "lng":-75.58321481},{"lat":4.903248567, "lng":-75.58340005},{"lat":4.903273042, "lng":-75.58350541},{"lat":4.903245214, "lng":-75.58354363},{"lat":4.903185787, "lng":-75.58359333},{"lat":4.902739786, "lng":-75.58369023},{"lat":4.902247936, "lng":-75.58389525},{"lat":4.902189346, "lng":-75.5838696},{"lat":4.902196554, "lng":-75.58381537},{"lat":4.90222346, "lng":-75.58375879},{"lat":4.902235363, "lng":-75.58371571},{"lat":4.902252126, "lng":-75.5836215},{"lat":4.902281798, "lng":-75.58355587},{"lat":4.902349608, "lng":-75.58350264},{"lat":4.902394954, "lng":-75.58345361},{"lat":4.902400738, "lng":-75.58344414},{"lat":4.902416915, "lng":-75.58337507},{"lat":4.902439965, "lng":-75.58322662},{"lat":4.9025035, "lng":-75.58312495},{"lat":4.902513474, "lng":-75.58311196},{"lat":4.902552199, "lng":-75.5830382},{"lat":4.902556222, "lng":-75.58303292},{"lat":4.902579021, "lng":-75.58301984},{"lat":4.902646327, "lng":-75.58294541},{"lat":4.902716735, "lng":-75.58293887},{"lat":4.902758645, "lng":-75.58292211},{"lat":4.903179919, "lng":-75.58321481}]
                },
                finca7 : {
                    poligono : [{"lat":4.891836438, "lng":-75.56308273},{"lat":4.892486203, "lng":-75.56309983},{"lat":4.892576393, "lng":-75.56311886},{"lat":4.89259324, "lng":-75.56315037},{"lat":4.892464159, "lng":-75.56321693},{"lat":4.892308004, "lng":-75.56329153},{"lat":4.892168529, "lng":-75.56341072},{"lat":4.89204607, "lng":-75.56353007},{"lat":4.891999466, "lng":-75.563661},{"lat":4.891977841, "lng":-75.56372864},{"lat":4.891868709, "lng":-75.56378715},{"lat":4.891772233, "lng":-75.56385144},{"lat":4.891710626, "lng":-75.56379503},{"lat":4.891623789, "lng":-75.56371062},{"lat":4.891538294, "lng":-75.56361658},{"lat":4.891446512, "lng":-75.56350904},{"lat":4.891317599, "lng":-75.56336646},{"lat":4.891202347, "lng":-75.56325263},{"lat":4.891132191, "lng":-75.56314157},{"lat":4.891107799, "lng":-75.56302548},{"lat":4.891836438, "lng":-75.56308273}]
                },
                finca8 : {
                    poligono: [{"lat":4.875147231, "lng":-75.55207159},{"lat":4.875034997, "lng":-75.55206472},{"lat":4.874997782, "lng":-75.55198283},{"lat":4.874970792, "lng":-75.55186674},{"lat":4.874989903, "lng":-75.55179382},{"lat":4.875056203, "lng":-75.55177965},{"lat":4.875066178, "lng":-75.55172978},{"lat":4.875030722, "lng":-75.55167077},{"lat":4.875026532, "lng":-75.5516613},{"lat":4.87497054, "lng":-75.5516245},{"lat":4.874959812, "lng":-75.55162165},{"lat":4.874854283, "lng":-75.55160338},{"lat":4.874789659, "lng":-75.55162517},{"lat":4.874719502, "lng":-75.55162149},{"lat":4.874709276, "lng":-75.55161218},{"lat":4.87466502, "lng":-75.55158335},{"lat":4.874577262, "lng":-75.55155745},{"lat":4.874472907, "lng":-75.55155326},{"lat":4.874454467, "lng":-75.55154605},{"lat":4.874361763, "lng":-75.55152836},{"lat":4.874359164, "lng":-75.55152585},{"lat":4.874295881, "lng":-75.55149911},{"lat":4.874195131, "lng":-75.55143901},{"lat":4.87412489, "lng":-75.55136332},{"lat":4.874079712, "lng":-75.55127095},{"lat":4.874066133, "lng":-75.55117758},{"lat":4.874098403, "lng":-75.55106384},{"lat":4.874102678, "lng":-75.55102302},{"lat":4.874097565, "lng":-75.55095236},{"lat":4.874049621, "lng":-75.55089905},{"lat":4.873940907, "lng":-75.5508936},{"lat":4.873779472, "lng":-75.55088421},{"lat":4.873757679, "lng":-75.55087625},{"lat":4.873571517, "lng":-75.55086485},{"lat":4.873532709, "lng":-75.55086041},{"lat":4.87341159, "lng":-75.55083644},{"lat":4.873397257, "lng":-75.55083141},{"lat":4.873240432, "lng":-75.55077617},{"lat":4.873117972, "lng":-75.55070551},{"lat":4.873172287, "lng":-75.55057827},{"lat":4.873341098, "lng":-75.55052974},{"lat":4.873480573, "lng":-75.55048415},{"lat":4.873650307, "lng":-75.55059956},{"lat":4.873868907, "lng":-75.55066427},{"lat":4.873803947, "lng":-75.5505947},{"lat":4.873805204, "lng":-75.55053988},{"lat":4.873869494, "lng":-75.55051407},{"lat":4.873966137, "lng":-75.55053963},{"lat":4.874032522, "lng":-75.55064944},{"lat":4.87409899, "lng":-75.55077408},{"lat":4.874264281, "lng":-75.55093031},{"lat":4.87433712, "lng":-75.55095739},{"lat":4.874421777, "lng":-75.55100801},{"lat":4.874528395, "lng":-75.55105981},{"lat":4.87453334, "lng":-75.55106141},{"lat":4.874684298, "lng":-75.55106996},{"lat":4.874784127, "lng":-75.55106308},{"lat":4.874851517, "lng":-75.5510086},{"lat":4.874917818, "lng":-75.55098454},{"lat":4.875009265, "lng":-75.55101874},{"lat":4.875051761, "lng":-75.55109653},{"lat":4.875147734, "lng":-75.5511666},{"lat":4.875220237, "lng":-75.55122234},{"lat":4.875265583, "lng":-75.55139551},{"lat":4.875278324, "lng":-75.5516608},{"lat":4.875322077, "lng":-75.55173238},{"lat":4.875147231, "lng":-75.55207159}]
                },
                finca9 : {
                    poligono : [{"lat":4.850397902, "lng":-75.57557722},{"lat":4.850417683, "lng":-75.57559507},{"lat":4.850451797, "lng":-75.57566321},{"lat":4.850452049, "lng":-75.57566958},{"lat":4.850460682, "lng":-75.5756871},{"lat":4.850467304, "lng":-75.57572348},{"lat":4.85047292, "lng":-75.57574511},{"lat":4.850469902, "lng":-75.57579783},{"lat":4.850478536, "lng":-75.57582884},{"lat":4.850478536, "lng":-75.57583303},{"lat":4.850485073, "lng":-75.57587},{"lat":4.850496221, "lng":-75.57589673},{"lat":4.850500496, "lng":-75.57590461},{"lat":4.850481302, "lng":-75.57594216},{"lat":4.850435788, "lng":-75.57595809},{"lat":4.850370996, "lng":-75.57599212},{"lat":4.850319196, "lng":-75.57602565},{"lat":4.850260019, "lng":-75.57605515},{"lat":4.850191455, "lng":-75.57609673},{"lat":4.850131944, "lng":-75.57613771},{"lat":4.850098835, "lng":-75.57616521},{"lat":4.850063715, "lng":-75.57618666},{"lat":4.850021889, "lng":-75.57623},{"lat":4.849969083, "lng":-75.57627258},{"lat":4.849906052, "lng":-75.57629856},{"lat":4.849822316, "lng":-75.57631801},{"lat":4.849781496, "lng":-75.57629957},{"lat":4.849727768, "lng":-75.57628037},{"lat":4.849680327, "lng":-75.57625707},{"lat":4.849662138, "lng":-75.57624953},{"lat":4.849643698, "lng":-75.57622673},{"lat":4.849646296, "lng":-75.57620167},{"lat":4.849630119, "lng":-75.57618289},{"lat":4.849609248, "lng":-75.57616764},{"lat":4.849607991, "lng":-75.57615272},{"lat":4.849645039, "lng":-75.57613528},{"lat":4.849686194, "lng":-75.57613612},{"lat":4.84974076, "lng":-75.57613445},{"lat":4.849768505, "lng":-75.57609899},{"lat":4.84974646, "lng":-75.57607695},{"lat":4.849719638, "lng":-75.57605146},{"lat":4.849717543, "lng":-75.57603621},{"lat":4.849673705, "lng":-75.57597117},{"lat":4.849710921, "lng":-75.57594342},{"lat":4.849756602, "lng":-75.57591995},{"lat":4.849787615, "lng":-75.57590277},{"lat":4.849829441, "lng":-75.57587385},{"lat":4.849875541, "lng":-75.57585231},{"lat":4.849921139, "lng":-75.57582976},{"lat":4.849977884, "lng":-75.57580856},{"lat":4.850046281, "lng":-75.57577922},{"lat":4.850120544, "lng":-75.5757498},{"lat":4.850165136, "lng":-75.57573086},{"lat":4.85024971, "lng":-75.57568392},{"lat":4.850327494, "lng":-75.57564377},{"lat":4.850393962, "lng":-75.57559691},{"lat":4.850406619, "lng":-75.57558451}]
                },
                finca10 : {
                    poligono : [{"lat":4.854635373, "lng":-75.57543162},{"lat":4.854515428, "lng":-75.57530891},{"lat":4.854442924, "lng":-75.57511018},{"lat":4.854398752, "lng":-75.57495771},{"lat":4.854392633, "lng":-75.57483986},{"lat":4.854410235, "lng":-75.57471992},{"lat":4.854534371, "lng":-75.57467314},{"lat":4.85466823, "lng":-75.57463719},{"lat":4.854734531, "lng":-75.57463115},{"lat":4.854927566, "lng":-75.57464506},{"lat":4.855147926, "lng":-75.57468211},{"lat":4.855316235, "lng":-75.57472721},{"lat":4.855394522, "lng":-75.57477314},{"lat":4.855530057, "lng":-75.57486601},{"lat":4.855605494, "lng":-75.57495545},{"lat":4.855571799, "lng":-75.57510238},{"lat":4.85553911, "lng":-75.57510213},{"lat":4.855379602, "lng":-75.57509308},{"lat":4.855190758, "lng":-75.5751365},{"lat":4.855039045, "lng":-75.57521948},{"lat":4.854635373, "lng":-75.57543162}]
                },
                finca11 : {
                    poligono : [{"lat":4.85374664, "lng":-75.57610461},{"lat":4.853671119, "lng":-75.57636947},{"lat":4.85347406, "lng":-75.57674314},{"lat":4.85331187, "lng":-75.57690692},{"lat":4.853038955, "lng":-75.57711731},{"lat":4.852816584, "lng":-75.57698487},{"lat":4.852633104, "lng":-75.57687826},{"lat":4.852463203, "lng":-75.57678186},{"lat":4.852345269, "lng":-75.57670349},{"lat":4.852207974, "lng":-75.57663023},{"lat":4.852233119, "lng":-75.57651306},{"lat":4.852224151, "lng":-75.57641499},{"lat":4.852245441, "lng":-75.5763512},{"lat":4.852256337, "lng":-75.57629001},{"lat":4.852568731, "lng":-75.57604476},{"lat":4.852848183, "lng":-75.57587318},{"lat":4.852974415, "lng":-75.5758192},{"lat":4.85374664, "lng":-75.57610461}]
                },
                finca12 : {
                    poligono : [{"lat":4.851978058, "lng":-75.57410745},{"lat":4.851480173, "lng":-75.57454054},{"lat":4.851145316, "lng":-75.57461598},{"lat":4.850889165, "lng":-75.57452143},{"lat":4.850813728, "lng":-75.57447055},{"lat":4.850731082, "lng":-75.57437953},{"lat":4.850658998, "lng":-75.57427157},{"lat":4.850584315, "lng":-75.57420351},{"lat":4.85060703, "lng":-75.57419697},{"lat":4.850851111, "lng":-75.57408608},{"lat":4.850870222, "lng":-75.57408339},{"lat":4.851092007, "lng":-75.57404165},{"lat":4.851125618, "lng":-75.5740233},{"lat":4.851447484, "lng":-75.57397569},{"lat":4.851570111, "lng":-75.57378341},{"lat":4.851852329, "lng":-75.57365625},{"lat":4.852124322, "lng":-75.57358802},{"lat":4.852247369, "lng":-75.57351577},{"lat":4.852425065, "lng":-75.57341938},{"lat":4.852451133, "lng":-75.57340899},{"lat":4.852601588, "lng":-75.57337328},{"lat":4.852797976, "lng":-75.57339465},{"lat":4.853029735, "lng":-75.57350823},{"lat":4.851978058, "lng":-75.57410745}]
                },
                finca13 : {
                    poligono : [{"lat":4.850976169, "lng":-75.57465781},{"lat":4.850915233, "lng":-75.57475881},{"lat":4.850860666, "lng":-75.57485696},{"lat":4.850679366, "lng":-75.57512409},{"lat":4.850511728, "lng":-75.57494698},{"lat":4.850368062, "lng":-75.57478379},{"lat":4.850239065, "lng":-75.57465211},{"lat":4.850150468, "lng":-75.57453929},{"lat":4.850096572, "lng":-75.57443845},{"lat":4.850172177, "lng":-75.57441247},{"lat":4.850183576, "lng":-75.57441154},{"lat":4.85030042, "lng":-75.57438673},{"lat":4.850379461, "lng":-75.57435379},{"lat":4.850476943, "lng":-75.57431029},{"lat":4.850589512, "lng":-75.57421214},{"lat":4.850655729, "lng":-75.57427123},{"lat":4.850725299, "lng":-75.57437332},{"lat":4.850795707, "lng":-75.57445932},{"lat":4.850893356, "lng":-75.57453183},{"lat":4.851134671, "lng":-75.57462403},{"lat":4.850976169, "lng":-75.57465781}]
                },
                finca14 : {
                    poligono : [{"lat":4.849881493, "lng":-75.57543799},{"lat":4.849818628, "lng":-75.57546431},{"lat":4.84978443, "lng":-75.57547973},{"lat":4.84972517, "lng":-75.57551259},{"lat":4.84972517, "lng":-75.57551477},{"lat":4.849682087, "lng":-75.57551695},{"lat":4.849646129, "lng":-75.57548191},{"lat":4.849572452, "lng":-75.57542483},{"lat":4.849531129, "lng":-75.57546658},{"lat":4.849421578, "lng":-75.57546213},{"lat":4.849374807, "lng":-75.57546431},{"lat":4.849304734, "lng":-75.57544897},{"lat":4.849285036, "lng":-75.57549289},{"lat":4.849281432, "lng":-75.57561569},{"lat":4.849256119, "lng":-75.5756146},{"lat":4.849254359, "lng":-75.5756146},{"lat":4.849230973, "lng":-75.5756146},{"lat":4.849227369, "lng":-75.5756146},{"lat":4.84919141, "lng":-75.57558828},{"lat":4.849151932, "lng":-75.57557294},{"lat":4.84913039, "lng":-75.57553346},{"lat":4.849089067, "lng":-75.57551377},{"lat":4.849042296, "lng":-75.57550278},{"lat":4.848988401, "lng":-75.57550278},{"lat":4.848930901, "lng":-75.57552248},{"lat":4.848929141, "lng":-75.57552248},{"lat":4.848887818, "lng":-75.57552248},{"lat":4.848885974, "lng":-75.57551812},{"lat":4.848848255, "lng":-75.57550278},{"lat":4.84880425, "lng":-75.57558065},{"lat":4.84877198, "lng":-75.57560697},{"lat":4.848753959, "lng":-75.57564209},{"lat":4.848727053, "lng":-75.57565307},{"lat":4.848692939, "lng":-75.57564427},{"lat":4.848653376, "lng":-75.57565525},{"lat":4.848425221, "lng":-75.57563991},{"lat":4.848391106, "lng":-75.57562231},{"lat":4.848383898, "lng":-75.57560043},{"lat":4.848383898, "lng":-75.57553899},{"lat":4.848367721, "lng":-75.57551268},{"lat":4.848387502, "lng":-75.57548636},{"lat":4.848373085, "lng":-75.57543154},{"lat":4.848389262, "lng":-75.5753986},{"lat":4.848383898, "lng":-75.57538108},{"lat":4.848392867, "lng":-75.57535258},{"lat":4.848421616, "lng":-75.5753328},{"lat":4.848576095, "lng":-75.5753328},{"lat":4.848638959, "lng":-75.57534378},{"lat":4.848705512, "lng":-75.57533506},{"lat":4.84891925, "lng":-75.5753789},{"lat":4.84897499, "lng":-75.57538326},{"lat":4.848987563, "lng":-75.57534378},{"lat":4.849021677, "lng":-75.5752758},{"lat":4.849068364, "lng":-75.57520783},{"lat":4.849118739, "lng":-75.57516835},{"lat":4.849165427, "lng":-75.57513985},{"lat":4.849228291, "lng":-75.57513323},{"lat":4.849271374, "lng":-75.57512887},{"lat":4.849310936, "lng":-75.57512887},{"lat":4.849337926, "lng":-75.57510037},{"lat":4.849395342, "lng":-75.57509819},{"lat":4.849422332, "lng":-75.57508503},{"lat":4.849477988, "lng":-75.57509593},{"lat":4.849526519, "lng":-75.57514421},{"lat":4.849583935, "lng":-75.57514303},{"lat":4.849639675, "lng":-75.57518469},{"lat":4.849675633, "lng":-75.57520674},{"lat":4.849707987, "lng":-75.57523088},{"lat":4.849734893, "lng":-75.57526818},{"lat":4.849787029, "lng":-75.57529885},{"lat":4.849840924, "lng":-75.57533615},{"lat":4.849867914, "lng":-75.57537563},{"lat":4.849867914, "lng":-75.57538443},{"lat":4.849885851, "lng":-75.57543925}]
                },
                finca15 : {
                    poligono : [{"lat":4.891859069, "lng":-75.56247328},{"lat":4.891983122, "lng":-75.56247471},{"lat":4.892108263, "lng":-75.56245501},{"lat":4.892246146, "lng":-75.56241754},{"lat":4.892530041, "lng":-75.5623841},{"lat":4.892578069, "lng":-75.56267336},{"lat":4.892626768, "lng":-75.56283731},{"lat":4.892659709, "lng":-75.56292641},{"lat":4.89269089, "lng":-75.56301501},{"lat":4.892692566, "lng":-75.56310084},{"lat":4.892599862, "lng":-75.56314769},{"lat":4.892576225, "lng":-75.56312481},{"lat":4.892492406, "lng":-75.56310134},{"lat":4.891833505, "lng":-75.56307921},{"lat":4.891859069, "lng":-75.56247328}]
                },
                finca16 : {
                    poligono : [{"lat":4.921276197, "lng":-75.56069867},{"lat":4.920782167, "lng":-75.5611984},{"lat":4.920717543, "lng":-75.56112858},{"lat":4.920605058, "lng":-75.56097276},{"lat":4.920496177, "lng":-75.56085893},{"lat":4.920410011, "lng":-75.56067813},{"lat":4.920358798, "lng":-75.56056825},{"lat":4.9203075, "lng":-75.56043531},{"lat":4.920214964, "lng":-75.5603162},{"lat":4.920156458, "lng":-75.56026666},{"lat":4.920092588, "lng":-75.56019341},{"lat":4.920017906, "lng":-75.56013373},{"lat":4.920252683, "lng":-75.56008201},{"lat":4.920448568, "lng":-75.56013339},{"lat":4.92060489, "lng":-75.56017539},{"lat":4.920798596, "lng":-75.56027345},{"lat":4.920807397, "lng":-75.5602784},{"lat":4.920914434, "lng":-75.56035442},{"lat":4.920941675, "lng":-75.56047705},{"lat":4.920987189, "lng":-75.56055173},{"lat":4.92122381, "lng":-75.56061887},{"lat":4.921276197, "lng":-75.56069867}]
                },
                finca17 : {
                    poligono : [{"lat":4.918824742, "lng":-75.55867871},{"lat":4.918854162, "lng":-75.5586187},{"lat":4.918920295, "lng":-75.55852247},{"lat":4.919013754, "lng":-75.5585332},{"lat":4.919120707, "lng":-75.55852918},{"lat":4.919207627, "lng":-75.55851744},{"lat":4.919258505, "lng":-75.55847671},{"lat":4.91924895, "lng":-75.55839272},{"lat":4.91930603, "lng":-75.55832407},{"lat":4.919372918, "lng":-75.55832743},{"lat":4.919424299, "lng":-75.55835643},{"lat":4.919488169, "lng":-75.55838652},{"lat":4.91953712, "lng":-75.55841083},{"lat":4.919573581, "lng":-75.55842927},{"lat":4.919627141, "lng":-75.55846254},{"lat":4.919667039, "lng":-75.55851694},{"lat":4.919682713, "lng":-75.55861509},{"lat":4.919691514, "lng":-75.55867477},{"lat":4.919709619, "lng":-75.55874552},{"lat":4.919759408, "lng":-75.55881701},{"lat":4.919823278, "lng":-75.55891626},{"lat":4.918884337, "lng":-75.55895573},{"lat":4.918824742, "lng":-75.55867871}]
                },
                finca18 : {
                    poligono : [{"lat":4.88778865, "lng":-75.56120007},{"lat":4.887787476, "lng":-75.5612854},{"lat":4.887778508, "lng":-75.56135254},{"lat":4.887733245, "lng":-75.56143988},{"lat":4.887695778, "lng":-75.56150995},{"lat":4.887658982, "lng":-75.56155697},{"lat":4.887605337, "lng":-75.56156494},{"lat":4.887503497, "lng":-75.56154516},{"lat":4.886912741, "lng":-75.5614237},{"lat":4.88674175, "lng":-75.56132706},{"lat":4.886684082, "lng":-75.56129747},{"lat":4.886699505, "lng":-75.56123125},{"lat":4.886716017, "lng":-75.56121969},{"lat":4.886793466, "lng":-75.56123796},{"lat":4.886806123, "lng":-75.56110745},{"lat":4.886734793, "lng":-75.56108843},{"lat":4.886730099, "lng":-75.56101006},{"lat":4.886737727, "lng":-75.56092196},{"lat":4.88676941, "lng":-75.56087536},{"lat":4.88677226, "lng":-75.56082666},{"lat":4.887415571, "lng":-75.56105792},{"lat":4.887718912, "lng":-75.56116655},{"lat":4.88778865, "lng":-75.56120007}]
                },
                finca19 : {
                    poligono : [{"lat":4.893876845, "lng":-75.56332061},{"lat":4.893858321, "lng":-75.56332413},{"lat":4.893820686, "lng":-75.5637527},{"lat":4.893651037, "lng":-75.56364499},{"lat":4.893576019, "lng":-75.5635942},{"lat":4.893474933, "lng":-75.56354575},{"lat":4.893490355, "lng":-75.5634792},{"lat":4.893464372, "lng":-75.56321802},{"lat":4.893484153, "lng":-75.56309807},{"lat":4.893519105, "lng":-75.56312012},{"lat":4.893579287, "lng":-75.56314928},{"lat":4.89363092, "lng":-75.56316487},{"lat":4.893697556, "lng":-75.5632036},{"lat":4.8937569, "lng":-75.56324325},{"lat":4.893774334, "lng":-75.56315976},{"lat":4.893754218, "lng":-75.56306773},{"lat":4.893724211, "lng":-75.5629772},{"lat":4.893712141, "lng":-75.56291409},{"lat":4.893814065, "lng":-75.56296463},{"lat":4.893876845, "lng":-75.56332061}]
                },
                finca20 : {
                    poligono : [{"lat":4.829614973, "lng":-75.57174903},{"lat":4.829613967, "lng":-75.57174803},{"lat":4.829601981, "lng":-75.57174803},{"lat":4.829548001, "lng":-75.57176596},{"lat":4.829488993, "lng":-75.57177904},{"lat":4.829311967, "lng":-75.57180201},{"lat":4.829071993, "lng":-75.57186303},{"lat":4.828919023, "lng":-75.57194903},{"lat":4.828794971, "lng":-75.57201197},{"lat":4.828667985, "lng":-75.57206696},{"lat":4.82857503, "lng":-75.57212102},{"lat":4.828505041, "lng":-75.57209596},{"lat":4.828462964, "lng":-75.57204399},{"lat":4.828450978, "lng":-75.57202899},{"lat":4.828394987, "lng":-75.57199596},{"lat":4.828294991, "lng":-75.57196797},{"lat":4.828269007, "lng":-75.57194098},{"lat":4.828250986, "lng":-75.57193302},{"lat":4.828174962, "lng":-75.571902},{"lat":4.828133974, "lng":-75.571873},{"lat":4.828065997, "lng":-75.571772},{"lat":4.827979999, "lng":-75.57169799},{"lat":4.827995002, "lng":-75.5716},{"lat":4.828001959, "lng":-75.57155399},{"lat":4.828004977, "lng":-75.57153102},{"lat":4.828094998, "lng":-75.57152004},{"lat":4.828192983, "lng":-75.57148903},{"lat":4.828201029, "lng":-75.57148601},{"lat":4.828288034, "lng":-75.57137696},{"lat":4.828324998, "lng":-75.57120597},{"lat":4.828424994, "lng":-75.57117999},{"lat":4.828567989, "lng":-75.57117999},{"lat":4.828603026, "lng":-75.57122801},{"lat":4.828592967, "lng":-75.57127202},{"lat":4.828634039, "lng":-75.57135098},{"lat":4.828760019, "lng":-75.57145701},{"lat":4.82876597, "lng":-75.57146003},{"lat":4.828811986, "lng":-75.57147201},{"lat":4.828831013, "lng":-75.57153597},{"lat":4.82882699, "lng":-75.57157503},{"lat":4.828823972, "lng":-75.5716},{"lat":4.828863032, "lng":-75.57167402},{"lat":4.828891028, "lng":-75.57169598},{"lat":4.828933021, "lng":-75.57170704},{"lat":4.829062019, "lng":-75.57165298},{"lat":4.829083979, "lng":-75.57156798},{"lat":4.82911801, "lng":-75.57153102},{"lat":4.829211971, "lng":-75.57145198},{"lat":4.829252036, "lng":-75.57142097},{"lat":4.829356978, "lng":-75.57136497},{"lat":4.829425039, "lng":-75.57131301},{"lat":4.829433002, "lng":-75.571298},{"lat":4.829438031, "lng":-75.57129197},{"lat":4.829395032, "lng":-75.57126003},{"lat":4.829372987, "lng":-75.57123497},{"lat":4.829363013, "lng":-75.57123103},{"lat":4.829341974, "lng":-75.57122399},{"lat":4.829323031, "lng":-75.57113598},{"lat":4.829298975, "lng":-75.57106901},{"lat":4.829264022, "lng":-75.57099299},{"lat":4.829258993, "lng":-75.57094504},{"lat":4.829289, "lng":-75.57089902},{"lat":4.829341974, "lng":-75.57088402},{"lat":4.829413975, "lng":-75.57087497},{"lat":4.829477007, "lng":-75.57091101},{"lat":4.829462003, "lng":-75.57097496},{"lat":4.829437025, "lng":-75.57103297},{"lat":4.829431996, "lng":-75.57108896},{"lat":4.829442976, "lng":-75.57114202},{"lat":4.829456974, "lng":-75.57118904},{"lat":4.829476001, "lng":-75.57123397},{"lat":4.829495028, "lng":-75.571268},{"lat":4.829497039, "lng":-75.57127202},{"lat":4.829566022, "lng":-75.57127001},{"lat":4.82965596, "lng":-75.57125098},{"lat":4.829685967, "lng":-75.57125903},{"lat":4.829725027, "lng":-75.57125601},{"lat":4.829828041, "lng":-75.57125098},{"lat":4.829940023, "lng":-75.57126498},{"lat":4.830120988, "lng":-75.571298},{"lat":4.830130041, "lng":-75.57129901},{"lat":4.830208998, "lng":-75.57130496},{"lat":4.830301031, "lng":-75.57132097},{"lat":4.830403961, "lng":-75.57132097},{"lat":4.830564978, "lng":-75.57140697},{"lat":4.830579981, "lng":-75.57147201},{"lat":4.830491971, "lng":-75.57157796},{"lat":4.830487026, "lng":-75.57158399},{"lat":4.830467999, "lng":-75.57160696},{"lat":4.830418965, "lng":-75.57166002},{"lat":4.830315029, "lng":-75.57177099},{"lat":4.830271024, "lng":-75.57183101},{"lat":4.830196006, "lng":-75.57178097},{"lat":4.830088969, "lng":-75.57170997},{"lat":4.830023004, "lng":-75.57168097},{"lat":4.829971036, "lng":-75.57168198},{"lat":4.829896018, "lng":-75.57168298},{"lat":4.829841033, "lng":-75.57169497},{"lat":4.829790993, "lng":-75.57171199},{"lat":4.829731984, "lng":-75.57172498},{"lat":4.829653027, "lng":-75.57173898},{"lat":4.829616984, "lng":-75.57175004},{"lat":4.829612961, "lng":-75.57174702}]
                },
                finca21 : {
                    poligono : [{"lat":4.875094006, "lng":-75.54999213},{"lat":4.875055114, "lng":-75.5501161},{"lat":4.875024101, "lng":-75.55017552},{"lat":4.874972552, "lng":-75.55023017},{"lat":4.87492553, "lng":-75.55027812},{"lat":4.874880351, "lng":-75.55034341},{"lat":4.874876328, "lng":-75.55034693},{"lat":4.874845734, "lng":-75.5504414},{"lat":4.874808686, "lng":-75.55050066},{"lat":4.874775745, "lng":-75.55056495},{"lat":4.874760155, "lng":-75.55057827},{"lat":4.874707181, "lng":-75.55060996},{"lat":4.874646496, "lng":-75.55063929},{"lat":4.874574747, "lng":-75.55064097},{"lat":4.874495622, "lng":-75.5506263},{"lat":4.874437368, "lng":-75.55060577},{"lat":4.874456981, "lng":-75.55049286},{"lat":4.874490928, "lng":-75.55039781},{"lat":4.874432506, "lng":-75.5503347},{"lat":4.874327313, "lng":-75.55029304},{"lat":4.87428599, "lng":-75.55019698},{"lat":4.874284649, "lng":-75.55008684},{"lat":4.874323457, "lng":-75.55001132},{"lat":4.874365367, "lng":-75.5499363},{"lat":4.874403756, "lng":-75.54991828},{"lat":4.87464834, "lng":-75.54993672},{"lat":4.875094006, "lng":-75.54999213}]
                }
            };

            var limites = new google.maps.LatLngBounds();
            const infowindow = new google.maps.InfoWindow();
            for(const datoFinca in datosFincas){
                /*
                color = '#'+(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0');
                const circulo = new google.maps.Circle({
                    strokeColor: color,
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    fillColor: color,
                    fillOpacity: 0.45,
                    map,
                    center: datosFincas[datoFinca].centro,
                    radius: datosFincas[datoFinca].hectareas*100,
                  });
                */
                  var markerFincas = new google.maps.Marker({position: datosFincas[datoFinca].centro, icon: icons["finca"].icon, map: map});
                  limites.extend(datosFincas[datoFinca].centro);

                    var infoMarker = `<div class="cuadro" style="display:table;padding: 10px;text-align: center;"><div style="display: table-cell;width:30%;vertical-align:middle;"><img src="http://paco/imgs/finca.jpg" width="150px" /></div><div style="display: table-cell;width:70%;padding: 10px;vertical-align:middle;"><b>INFOBOX -- Información de la Organización<br><img src="http://paco/imgs/logo_pacosoft.png" width="200px" /></div></div>`;
                    var infoWindow = new google.maps.InfoWindow({
                        content: infoMarker,
                    });
                    markerFincas.addListener("click", () => {
                        infoWindow.open(map,marker);
                    });
            }
            map.fitBounds(limites);

            //Construit todos los poligonos
            for(const finca in areasfinca){
                color = '#'+(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0');
                var GClocation = new google.maps.Polygon({
                    paths: areasfinca[finca].poligono,
                    strokeColor: color,
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    fillColor: color,
                    fillOpacity: 0.45,
                    });
                GClocation.setMap(map);
            }

            var marker = new google.maps.Marker({position: {lat: 4.852147911841803, lng: -75.5747982566813}, icon: icons["finca"].icon, map: map});
            /*
            const infoMarker = `<b>Esta es la prueba de la información para Julian y Juan</b>`;
            const infoWindow = new google.maps.InfoWindow({
                content: infoMarker,
            });

            marker.addListener("click", () => {
                infoWindow.open(map,marker);
            });
            */

        }

        Ctrl.calcularPeriodo = () => {
            // console.log('hola a todos');
            $http.get('api/organizaciones/calculoproduccion/', {})
                .then();
                location.reload();
        };

}])
.directive("mapa",[function(){
    return {
        restrict : "A",
        link : function($scope, element, attrs){
            $scope.crearMapa();
        }
    };
}]);
